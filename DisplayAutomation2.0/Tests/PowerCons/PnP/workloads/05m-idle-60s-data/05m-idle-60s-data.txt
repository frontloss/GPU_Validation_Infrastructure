; test script
//PMR Activity Metrics

addmetrics "hw.cpu.p1_freq"
addmetrics "hw.cpu.core0.c0_freq"
addmetrics "hw.cpu.raw.core0.c0"
addmetrics "hw.cpu.raw.core0.cycle_count"
addmetrics "hw.cpu.raw.core0.refc0"
addmetrics "hw.cpu.core0.c0_time"
addmetrics "hw.cpu.core0.c3_time"
addmetrics "hw.cpu.raw.core0.c3"
addmetrics "hw.cpu.core0.c6_time"
addmetrics "hw.cpu.raw.core0.c6"
addmetrics "hw.cpu.core0.c7_time"
addmetrics "hw.cpu.raw.core0.c7"
addmetrics "hw.cpu.core0.effective_freq"
addmetrics "hw.cpu.core0.temperature"
addmetrics "hw.cpu.core1.c0_freq"
addmetrics "hw.cpu.raw.core1.c0"
addmetrics "hw.cpu.raw.core1.cycle_count"
addmetrics "hw.cpu.raw.core1.refc0"
addmetrics "hw.cpu.core1.c0_time"
addmetrics "hw.cpu.core1.c3_time"
addmetrics "hw.cpu.raw.core1.c3"
addmetrics "hw.cpu.core1.c6_time"
addmetrics "hw.cpu.raw.core1.c6"
addmetrics "hw.cpu.core1.c7_time"
addmetrics "hw.cpu.raw.core1.c7"
addmetrics "hw.cpu.core1.effective_freq"
addmetrics "hw.cpu.core1.temperature"
addmetrics "hw.cpu.core2.c0_freq"
addmetrics "hw.cpu.raw.core2.c0"
addmetrics "hw.cpu.raw.core2.cycle_count"
addmetrics "hw.cpu.raw.core2.refc0"
addmetrics "hw.cpu.core2.c0_time"
addmetrics "hw.cpu.core2.c3_time"
addmetrics "hw.cpu.raw.core2.c3"
addmetrics "hw.cpu.core2.c6_time"
addmetrics "hw.cpu.raw.core2.c6"
addmetrics "hw.cpu.core2.c7_time"
addmetrics "hw.cpu.raw.core2.c7"
addmetrics "hw.cpu.core2.effective_freq"
addmetrics "hw.cpu.core2.temperature"
addmetrics "hw.cpu.core3.c0_freq"
addmetrics "hw.cpu.raw.core3.c0"
addmetrics "hw.cpu.raw.core3.cycle_count"
addmetrics "hw.cpu.raw.core3.refc0"
addmetrics "hw.cpu.core3.c0_time"
addmetrics "hw.cpu.core3.c3_time"
addmetrics "hw.cpu.raw.core3.c3"
addmetrics "hw.cpu.core3.c6_time"
addmetrics "hw.cpu.raw.core3.c6"
addmetrics "hw.cpu.core3.c7_time"
addmetrics "hw.cpu.raw.core3.c7"
addmetrics "hw.cpu.core3.effective_freq"
addmetrics "hw.cpu.core3.temperature"
addmetrics "hw.cpu.count"
addmetrics "hw.display.bckl_percentage"
addmetrics "hw.display.bckl_duty_cycle"
addmetrics "hw.display.bckl_freq"
addmetrics "hw.display.srd_entry_cnt_edp"
addmetrics "hw.display.srd_perf_cnt_edp"
addmetrics "hw.gpu.eu_count"
addmetrics "hw.gpu.eu_threads"
addmetrics "hw.gpu.freq"
addmetrics "hw.gpu.req_freq"
addmetrics "hw.gpu.unslice_freq"
addmetrics "hw.gpu.unslice_req_freq"
addmetrics "hw.gpu.slice_freq"
addmetrics "hw.gpu.slice_req_freq"
addmetrics "hw.gpu.gpu_util_downward_busyness"
addmetrics "hw.gpu.gpu_util_upward_busyness"
addmetrics "hw.gpu.temperature"
addmetrics "hw.mc.gt_dram_bw"
addmetrics "hw.mc.raw.gt_dram_trans"
addmetrics "hw.mc.ia_related_dram_bw"
addmetrics "hw.mc.raw.ia_related_dram_trans"
addmetrics "hw.mc.io_dram_bw"
addmetrics "hw.mc.raw.io_dram_trans"
addmetrics "hw.mc.ia_bias"
addmetrics "hw.mc.gt_bias"
addmetrics "hw.power.ia_power"
addmetrics "hw.power.gt_power"
addmetrics "hw.power.ddr_power"
addmetrics "hw.power.pkg_power"
addmetrics "hw.power.p1_clocks"
addmetrics "hw.power.gt_rc6_residency"
addmetrics "hw.power.raw.gt_rc6_residency"
addmetrics "hw.power.pkg_c2_residency"
addmetrics "hw.power.raw.pkg_c2_counter"
addmetrics "hw.power.pkg_c3_residency"
addmetrics "hw.power.raw.pkg_c3_counter"
addmetrics "hw.power.pkg_c6_residency"
addmetrics "hw.power.raw.pkg_c6_counter"
addmetrics "hw.power.pkg_c7_residency"
addmetrics "hw.power.raw.pkg_c7_counter"
addmetrics "hw.power.pkg_c8_residency"
addmetrics "hw.power.raw.pkg_c8_counter"
addmetrics "hw.power.pkg_c9_residency"
addmetrics "hw.power.raw.pkg_c9_counter"
addmetrics "hw.power.pkg_c10_residency"
addmetrics "hw.power.raw.pkg_c10_counter"
addmetrics "hw.power.pkg.temperature"
addmetrics "hw.ring.freq"

setactivemetrics 1

// appName, appParams, interval, delay, period, ratio
giraffecfg ".\05m-idle-60s-data.bat " "" 100 10 10 1

sample ""
  runapp ".\05m-idle-60s-data.bat"

  // Wait for application to execute in 5 min
  delay  60000

  // Start sampling existing process with interval in ms
  startsampling 100

  // Collect samples until app exits
  delay 0
endsample
