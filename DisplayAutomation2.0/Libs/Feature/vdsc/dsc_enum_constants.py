######################################################################################################################
# @file         dsc_enum_constants.py
# @brief        Contains All the Constants and Enum Required For DSC Programming Verification As Per DSC Spec.
#
# @author       Praburaj Krishnan
#######################################################################################################################
from enum import Enum, IntEnum
from typing import List, Dict, Tuple, Set

MAX_SLICE_SUPPORTED_HW = 16  # Max Slice Supported by Hardware
FIXED_POINT_U6_4_CONVERSION = 16
MAX_BPP_SUPPORTED_BPP_D13_PLUS = 27 * FIXED_POINT_U6_4_CONVERSION
MAX_BPP_SUPPORTED_BPP_PRE_D13 = 23 * FIXED_POINT_U6_4_CONVERSION

RC_RANGES_BUF_SIZE = 15
RC_BUF_THRESHOLD: List[int] = [896, 1792, 2688, 3584, 4480, 5376, 6272, 6720, 7168, 7616, 7744, 7872, 8000, 8064]

AUDIO_OVERHEAD_IN_TB_16 = 16
AUDIO_OVERHEAD_IN_TB_4 = 4

# BPP is stored in u6.4 format.
# 6 bits are used for integer and 4 bits for storing fractional part.
DSC_BPP_6: int = (6 * FIXED_POINT_U6_4_CONVERSION)
DSC_BPP_8: int = (8 * FIXED_POINT_U6_4_CONVERSION)
DSC_BPP_10: int = (10 * FIXED_POINT_U6_4_CONVERSION)
DSC_BPP_12: int = (12 * FIXED_POINT_U6_4_CONVERSION)
DSC_BPP_14: int = (14 * FIXED_POINT_U6_4_CONVERSION)
DSC_BPP_15: int = (15 * FIXED_POINT_U6_4_CONVERSION)
DSC_BPP_16: int = (16 * FIXED_POINT_U6_4_CONVERSION)
DSC_BPP_20: int = (20 * FIXED_POINT_U6_4_CONVERSION)

OFFSET_UNDER_6BPP: List[int] = [0, -2, -2, -4, -6, -6, -8, -8, -8, -10, -10, -12, -12, -12, -12]
OFFSET_UNDER_8BPP: List[int] = [2, 0, 0, -2, -4, -6, -8, -8, -8, -10, -10, -10, -12, -12, -12]
OFFSET_UNDER_12BPP: List[int] = [2, 0, 0, -2, -4, -6, -8, -8, -8, -10, -10, -10, -12, -12, -12]
OFFSET_UNDER_15BPP: List[int] = [10, 8, 6, 4, 2, 0, -2, -4, -6, -8, -10, -10, -12, -12, -12]

NATIVE_420_OFFSET_UNDER_4BPP = [2, 0, 0, -2, -4, -6, -8, -8, -8, -10, -10, -12, -12, -12, -12]
NATIVE_420_OFFSET_UNDER_5BPP = [2, 0, 0, -2, -4, -6, -8, -8, -8, -10, -10, -10, -12, -12, -12]
NATIVE_420_OFFSET_UNDER_6BPP = [2, 0, 0, -2, -4, -6, -8, -8, -8, -10, -10, -10, -12, -12, -12]
NATIVE_420_OFFSET_UNDER_8BPP = [10, 8, 6, 4, 2, 0, -2, -4, -6, -8, -10, -10, -12, -12, -12]

NATIVE_422_OFFSET_UNDER_6BPP = [2, 0, 0, -2, -4, -6, -8, -8, -8, -10, -10, -12, -12, -12, -12]
NATIVE_422_OFFSET_UNDER_7BPP = [2, 0, 0, -2, -4, -6, -8, -8, -8, -10, -10, -10, -12, -12, -12]
NATIVE_422_OFFSET_UNDER_10BPP = [10, 8, 6, 4, 2, 0, -2, -4, -6, -8, -10, -10, -12, -12, -12]

RANGE_MIN_QP444_8BPC: List[List[int]] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [3, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [3, 3, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [5, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [5, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
    [5, 5, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
    [5, 5, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    [5, 5, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 0, 0, 0],
    [6, 5, 5, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 1, 1, 1, 1, 1, 1, 0, 0, 0],
    [6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 0],
    [6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 2, 2, 2, 2, 1, 1, 1, 1, 0],
    [6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 3, 3, 2, 2, 2, 2, 1, 1, 1, 1, 0],
    [9, 9, 9, 9, 8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 6, 6, 5, 5, 5, 5, 4, 4, 3, 3, 3, 3, 2, 2, 1, 1, 1],
    [14, 14, 13, 13, 12, 12, 12, 12, 11, 11, 10, 10, 10, 10, 9, 9, 9, 8, 8, 8, 7, 7, 7, 7, 6, 6, 5, 5, 5, 5, 4, 4, 4, 3,
     3, 3, 3]
]

RANGE_MAX_QP444_8BPC: List[List[int]] = [
    [4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 2, 2, 2, 2, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [6, 6, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    [8, 7, 7, 6, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 3, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    [8, 8, 7, 7, 6, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 4, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
    [9, 8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 7, 6, 6, 5, 4, 4, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 0],
    [9, 8, 8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 6, 6, 6, 5, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1],
    [9, 9, 8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 7, 6, 6, 5, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1],
    [10, 10, 9, 9, 8, 8, 8, 8, 8, 8, 8, 8, 8, 7, 7, 6, 5, 5, 4, 4, 4, 4, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1],
    [11, 11, 10, 10, 9, 9, 9, 9, 9, 9, 8, 8, 8, 7, 7, 6, 6, 5, 5, 5, 5, 5, 4, 4, 4, 4, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1, 1],
    [12, 11, 11, 10, 10, 10, 9, 9, 9, 9, 9, 9, 9, 8, 8, 7, 6, 6, 5, 5, 5, 5, 4, 4, 4, 4, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1,
     1],
    [12, 12, 11, 11, 10, 10, 10, 10, 10, 10, 9, 9, 9, 8, 8, 7, 7, 6, 6, 6, 5, 5, 4, 4, 4, 4, 3, 3, 2, 2, 2, 2, 2, 2, 2,
     2, 1],
    [12, 12, 12, 11, 11, 11, 10, 10, 10, 10, 9, 9, 9, 9, 8, 8, 8, 7, 7, 7, 6, 6, 5, 5, 5, 5, 4, 4, 3, 3, 3, 3, 2, 2, 2,
     2, 1],
    [12, 12, 12, 12, 11, 11, 11, 11, 11, 10, 10, 9, 9, 9, 8, 8, 8, 7, 7, 7, 6, 6, 5, 5, 5, 5, 4, 4, 3, 3, 3, 3, 2, 2, 2,
     2, 1],
    [13, 13, 13, 13, 12, 12, 11, 11, 11, 11, 10, 10, 10, 10, 9, 9, 8, 8, 8, 8, 7, 7, 6, 6, 6, 6, 5, 5, 4, 4, 4, 4, 3, 3,
     2, 2, 2],
    [15, 15, 14, 14, 13, 13, 13, 13, 12, 12, 11, 11, 11, 11, 10, 10, 10, 9, 9, 9, 8, 8, 8, 8, 7, 7, 6, 6, 6, 6, 5, 5, 5,
     4, 4, 4, 4]
]

RANGE_MIN_QP444_10BPC: List[List[int]] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0,
     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [7, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0,
     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [7, 7, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1,
     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [9, 8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 7, 6, 6, 5, 5, 5, 5, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1,
     1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [9, 8, 8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2,
     2, 2, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    [9, 9, 8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 6, 6, 6, 5, 5, 5, 5, 5, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2,
     2, 2, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    [9, 9, 8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3,
     2, 2, 2, 2, 1, 1, 1, 0, 0, 0, 0],
    [9, 9, 8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 3, 3, 3, 3,
     3, 3, 2, 2, 2, 1, 1, 1, 1, 0, 0],
    [10, 9, 9, 8, 8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5, 5, 4, 4, 4, 4, 3, 3, 3, 3,
     3, 3, 3, 2, 2, 2, 1, 1, 1, 1, 0],
    [10, 10, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 8, 8, 8, 8, 7, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4,
     4, 3, 3, 3, 2, 2, 2, 1, 1, 1, 1],
    [10, 10, 10, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 8, 8, 8, 8, 8, 7, 7, 7, 7, 7, 7, 6, 6, 6, 6, 5, 5, 5, 5, 4,
     4, 4, 4, 3, 3, 3, 3, 2, 2, 1, 1, 1],
    [10, 10, 10, 10, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 8, 8, 8, 8, 8, 8, 7, 7, 6, 6, 6, 6, 5, 5, 5, 5, 4,
     4, 4, 4, 3, 3, 3, 3, 2, 2, 2, 2, 1],
    [12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 10, 10, 9, 9, 9, 9, 8, 8, 7, 7, 7,
     7, 6, 6, 5, 5, 5, 5, 4, 4, 3, 3, 3, 3, 2, 2, 2, 2, 1],
    [18, 18, 17, 17, 16, 16, 16, 16, 15, 15, 14, 14, 14, 14, 13, 13, 13, 12, 12, 12, 11, 11, 11, 11, 10, 10, 9, 9, 9, 9,
     9, 8, 8, 7, 7, 7, 7, 7, 6, 6, 5, 5, 5, 5, 4, 4, 3, 3, 3]
]

RANGE_MAX_QP444_10BPC: List[List[int]] = [
    [8, 8, 8, 8, 8, 8, 7, 7, 7, 6, 5, 5, 4, 4, 3, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0,
     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [10, 10, 9, 9, 8, 8, 8, 8, 8, 8, 7, 7, 6, 6, 6, 5, 5, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1,
     1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [12, 11, 11, 10, 9, 9, 9, 9, 9, 9, 9, 9, 8, 8, 8, 7, 6, 6, 5, 5, 5, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 2, 2, 2, 1, 1,
     1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
    [12, 12, 11, 11, 10, 10, 10, 10, 10, 10, 10, 10, 9, 9, 9, 8, 7, 7, 6, 6, 6, 5, 5, 5, 5, 5, 4, 4, 3, 3, 3, 3, 3, 3,
     3, 3, 2, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    [13, 12, 12, 11, 11, 11, 11, 11, 11, 11, 11, 11, 10, 10, 9, 8, 8, 7, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 4, 4, 4, 3, 3, 3,
     3, 3, 2, 2, 2, 2, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    [13, 12, 12, 12, 11, 11, 11, 11, 11, 11, 11, 11, 10, 10, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 5, 5, 5, 5, 4, 3, 3,
     3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 1, 1, 1, 1, 0, 0],
    [13, 13, 12, 12, 11, 11, 11, 11, 11, 11, 11, 11, 11, 10, 10, 9, 8, 8, 7, 7, 7, 7, 7, 6, 6, 6, 5, 5, 5, 5, 4, 4, 4,
     4, 4, 4, 4, 3, 3, 3, 2, 2, 2, 2, 1, 1, 1, 1, 1],
    [14, 14, 13, 13, 12, 12, 12, 12, 12, 12, 12, 12, 12, 11, 11, 10, 9, 9, 8, 8, 8, 8, 7, 7, 7, 7, 6, 6, 6, 5, 5, 5, 4,
     4, 4, 4, 4, 4, 3, 3, 3, 3, 2, 2, 2, 1, 1, 1, 1],
    [15, 15, 14, 14, 13, 13, 13, 13, 13, 13, 12, 12, 12, 11, 11, 10, 10, 9, 9, 9, 9, 9, 8, 8, 8, 8, 7, 7, 6, 5, 5, 5, 5,
     5, 4, 4, 4, 4, 4, 4, 3, 3, 3, 2, 2, 2, 2, 1, 1],
    [16, 15, 15, 14, 14, 14, 13, 13, 13, 13, 13, 13, 13, 12, 12, 11, 10, 10, 9, 9, 9, 9, 8, 8, 8, 8, 7, 7, 6, 6, 5, 5,
     5, 5, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 2, 2, 2, 2, 1],
    [16, 16, 15, 15, 14, 14, 14, 14, 14, 14, 13, 13, 13, 12, 12, 11, 11, 10, 10, 10, 9, 9, 8, 8, 8, 8, 7, 7, 6, 6, 6, 6,
     6, 6, 6, 6, 5, 5, 5, 4, 4, 4, 3, 3, 3, 2, 2, 2, 2],
    [16, 16, 16, 15, 15, 15, 14, 14, 14, 14, 13, 13, 13, 13, 12, 12, 12, 11, 11, 11, 10, 10, 9, 9, 9, 9, 8, 8, 7, 7, 7,
     7, 6, 6, 6, 6, 5, 5, 5, 5, 4, 4, 4, 4, 3, 3, 2, 2, 2],
    [16, 16, 16, 16, 15, 15, 15, 15, 15, 14, 14, 13, 13, 13, 12, 12, 12, 11, 11, 11, 10, 10, 9, 9, 9, 9, 8, 8, 7, 7, 7,
     7, 6, 6, 6, 6, 5, 5, 5, 5, 4, 4, 4, 4, 3, 3, 3, 3, 2],
    [17, 17, 17, 17, 16, 16, 15, 15, 15, 15, 14, 14, 14, 14, 13, 13, 12, 12, 12, 12, 11, 11, 10, 10, 10, 10, 9, 9, 8, 8,
     8, 8, 7, 7, 6, 6, 6, 6, 5, 5, 4, 4, 4, 4, 3, 3, 3, 3, 2],
    [19, 19, 18, 18, 17, 17, 17, 17, 16, 16, 15, 15, 15, 15, 14, 14, 14, 13, 13, 13, 12, 12, 12, 12, 11, 11, 10, 10, 10,
     10, 10, 9, 9, 8, 8, 8, 8, 8, 7, 7, 6, 6, 6, 6, 5, 5, 4, 4, 4]
]

RANGE_MIN_QP444_12BPC: List[List[int]] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0,
     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [11, 10, 10, 9, 8, 8, 8, 8, 8, 8, 8, 8, 7, 7, 7, 6, 5, 5, 4, 4, 4, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1,
     1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [11, 11, 10, 10, 9, 9, 9, 9, 9, 9, 9, 9, 8, 8, 8, 7, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 2,
     2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [13, 12, 12, 11, 11, 11, 11, 11, 11, 11, 11, 11, 10, 10, 9, 9, 9, 8, 7, 7, 7, 7, 5, 5, 5, 5, 5, 5, 4, 4, 4, 3, 3, 3,
     3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [13, 12, 12, 12, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 10, 9, 9, 8, 8, 8, 8, 6, 6, 6, 6, 5, 5, 5, 5, 5, 4, 4,
     4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
    [13, 13, 12, 12, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 10, 9, 9, 9, 9, 9, 9, 9, 8, 8, 8, 7, 7, 7, 6, 5, 5, 5,
     5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 2, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    [13, 13, 12, 12, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 10, 10, 10, 10, 10, 10, 9, 9, 9, 9, 8, 8, 8, 7, 7,
     7, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 4, 4, 4, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 0, 0, 0, 0],
    [13, 13, 12, 12, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 10, 10, 10, 10, 9, 9, 8, 7,
     7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 5, 5, 5, 4, 4, 4, 4, 3, 3, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 0, 0],
    [14, 13, 13, 12, 12, 12, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 10, 10, 10, 10, 9, 9, 8, 8,
     8, 8, 8, 8, 7, 7, 7, 7, 7, 6, 6, 5, 5, 5, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1, 0],
    [14, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 12, 12, 12, 12, 12, 11, 11, 11, 11, 11, 11, 10, 10, 9,
     9, 9, 9, 9, 9, 9, 9, 8, 8, 8, 7, 7, 7, 6, 6, 6, 5, 5, 5, 5, 4, 4, 3, 3, 3, 2, 2, 2, 2, 1, 1, 1],
    [14, 14, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 12, 12, 11, 11, 11, 11, 11, 11, 10,
     10, 10, 10, 9, 9, 9, 9, 8, 8, 8, 8, 7, 7, 7, 7, 6, 6, 5, 5, 5, 4, 4, 4, 3, 3, 3, 3, 2, 2, 1, 1, 1],
    [14, 14, 14, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 12, 12, 12, 12, 12, 12, 11, 11, 10,
     10, 10, 10, 9, 9, 9, 9, 8, 8, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 5, 4, 4, 4, 3, 3, 3, 3, 2, 2, 1, 1, 1],
    [17, 17, 17, 17, 16, 16, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 14, 14, 13, 13, 13, 13, 12, 12, 11,
     11, 11, 11, 10, 10, 9, 9, 9, 9, 8, 8, 7, 7, 7, 7, 7, 6, 6, 6, 5, 5, 5, 5, 4, 4, 3, 3, 3, 3, 2, 2, 1],
    [22, 22, 21, 21, 20, 20, 20, 20, 19, 19, 18, 18, 18, 18, 17, 17, 17, 16, 16, 16, 15, 15, 15, 15, 14, 14, 13, 13, 13,
     13, 13, 12, 12, 11, 11, 11, 11, 11, 10, 10, 9, 9, 9, 9, 9, 8, 8, 7, 7, 7, 7, 7, 6, 6, 5, 5, 5, 5, 4, 4, 3]
]

RANGE_MAX_QP444_12BPC: List[List[int]] = [
    [12, 12, 12, 12, 12, 12, 11, 11, 11, 10, 9, 9, 6, 6, 5, 5, 5, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2,
     2, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [14, 14, 13, 13, 12, 12, 12, 12, 12, 12, 11, 11, 9, 9, 9, 8, 8, 7, 7, 7, 7, 5, 5, 5, 5, 5, 4, 4, 4, 3, 3, 3, 2, 2,
     2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [16, 15, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 12, 12, 12, 11, 10, 10, 9, 9, 9, 7, 7, 7, 7, 7, 6, 6, 5, 5, 5, 5,
     4, 4, 4, 3, 3, 3, 3, 3, 3, 2, 2, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [16, 16, 15, 15, 14, 14, 14, 14, 14, 14, 14, 14, 13, 13, 13, 12, 11, 11, 10, 10, 10, 8, 8, 8, 8, 8, 7, 7, 6, 5, 5,
     5, 5, 5, 5, 5, 4, 4, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [17, 16, 16, 15, 15, 15, 15, 15, 15, 15, 15, 15, 14, 14, 13, 12, 12, 11, 10, 10, 10, 10, 8, 8, 8, 8, 8, 8, 7, 7, 7,
     6, 6, 5, 5, 5, 4, 4, 4, 4, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
    [17, 16, 16, 16, 15, 15, 15, 15, 15, 15, 15, 15, 14, 14, 14, 13, 12, 12, 11, 11, 11, 11, 9, 9, 9, 9, 8, 8, 8, 8, 7,
     6, 6, 6, 6, 6, 5, 5, 5, 5, 4, 4, 4, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 0],
    [17, 17, 16, 16, 15, 15, 15, 15, 15, 15, 15, 15, 15, 14, 14, 13, 12, 12, 11, 11, 11, 11, 11, 10, 10, 10, 9, 9, 9, 8,
     7, 7, 7, 7, 7, 7, 7, 6, 6, 6, 5, 5, 5, 5, 4, 4, 4, 3, 3, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 0],
    [18, 18, 17, 17, 16, 16, 16, 16, 16, 16, 16, 16, 16, 15, 15, 14, 13, 13, 12, 12, 12, 12, 11, 11, 11, 11, 10, 10, 10,
     8, 8, 8, 7, 7, 7, 7, 7, 7, 6, 6, 6, 6, 5, 5, 5, 4, 4, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 1, 1, 1, 1],
    [19, 19, 18, 18, 17, 17, 17, 17, 17, 17, 16, 16, 16, 15, 15, 14, 14, 13, 13, 13, 13, 13, 12, 12, 12, 12, 11, 11, 10,
     9, 8, 8, 8, 8, 7, 7, 7, 7, 7, 7, 6, 6, 6, 5, 5, 5, 5, 4, 4, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1],
    [20, 19, 19, 18, 18, 18, 17, 17, 17, 17, 17, 17, 17, 16, 16, 15, 14, 14, 13, 13, 13, 13, 12, 12, 12, 12, 11, 11, 10,
     10, 9, 9, 9, 9, 8, 8, 8, 8, 8, 7, 7, 6, 6, 6, 5, 5, 5, 5, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2, 2, 1],
    [20, 20, 19, 19, 18, 18, 18, 18, 18, 18, 17, 17, 17, 16, 16, 15, 15, 14, 14, 14, 13, 13, 12, 12, 12, 12, 11, 11, 10,
     10, 10, 10, 10, 10, 10, 10, 9, 9, 9, 8, 8, 8, 7, 7, 7, 6, 6, 6, 6, 5, 5, 4, 4, 4, 3, 3, 3, 3, 2, 2, 2],
    [20, 20, 20, 19, 19, 19, 18, 18, 18, 18, 17, 17, 17, 17, 16, 16, 16, 15, 15, 15, 14, 14, 13, 13, 13, 13, 12, 12, 11,
     11, 11, 11, 10, 10, 10, 10, 9, 9, 9, 9, 8, 8, 8, 8, 7, 7, 6, 6, 6, 5, 5, 5, 4, 4, 4, 4, 3, 3, 2, 2, 2],
    [20, 20, 20, 20, 19, 19, 19, 19, 19, 18, 18, 17, 17, 17, 16, 16, 16, 15, 15, 15, 14, 14, 13, 13, 13, 13, 12, 12, 11,
     11, 11, 11, 10, 10, 10, 10, 9, 9, 9, 9, 8, 8, 8, 8, 7, 7, 7, 7, 6, 5, 5, 5, 4, 4, 4, 4, 3, 3, 2, 2, 2],
    [21, 21, 21, 21, 20, 20, 19, 19, 19, 19, 18, 18, 18, 18, 17, 17, 16, 16, 16, 16, 15, 15, 14, 14, 14, 14, 13, 13, 12,
     12, 12, 12, 11, 11, 10, 10, 10, 10, 9, 9, 8, 8, 8, 8, 8, 7, 7, 7, 6, 6, 6, 6, 5, 5, 4, 4, 4, 4, 3, 3, 2],
    [23, 23, 22, 22, 21, 21, 21, 21, 20, 20, 19, 19, 19, 19, 18, 18, 18, 17, 17, 17, 16, 16, 16, 16, 15, 15, 14, 14, 14,
     14, 14, 13, 13, 12, 12, 12, 12, 12, 11, 11, 10, 10, 10, 10, 10, 9, 9, 8, 8, 8, 8, 8, 7, 7, 6, 6, 6, 6, 5, 5, 4]
]

RANGE_MIN_QP422_8BPC: List[List[int]] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [2, 2, 2, 2, 2, 2, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [3, 3, 3, 3, 3, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    [3, 3, 3, 3, 3, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
    [3, 3, 3, 3, 3, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
    [3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 0, 0],
    [3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 1, 1, 1],
    [5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 2, 2, 1, 1, 1],
    [5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 2, 2, 1, 1],
    [5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 3, 3, 2, 2, 1, 1],
    [8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 6, 6, 5, 5, 4, 4, 3, 3, 2, 2, 2],
    [12, 12, 11, 11, 10, 10, 9, 9, 8, 8, 7, 7, 6, 6, 5, 5, 4, 4, 4, 3, 3]
]

RANGE_MAX_QP422_8BPC: List[List[int]] = [
    [4, 4, 3, 3, 2, 2, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [4, 4, 4, 4, 4, 3, 2, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
    [5, 5, 5, 5, 5, 4, 3, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
    [6, 6, 6, 6, 6, 5, 4, 3, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 0, 0],
    [7, 7, 7, 7, 7, 6, 5, 3, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1],
    [7, 7, 7, 7, 7, 6, 5, 4, 3, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1],
    [7, 7, 7, 7, 7, 6, 5, 4, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1, 1],
    [8, 8, 8, 8, 8, 7, 6, 5, 4, 4, 4, 3, 3, 3, 3, 2, 2, 2, 2, 1, 1],
    [9, 9, 9, 8, 8, 7, 6, 6, 5, 5, 5, 4, 4, 3, 3, 3, 3, 2, 2, 2, 2],
    [10, 10, 9, 9, 9, 8, 7, 6, 5, 5, 5, 5, 4, 4, 4, 3, 3, 3, 2, 2, 2],
    [10, 10, 10, 9, 9, 8, 7, 7, 6, 6, 6, 5, 5, 4, 4, 4, 3, 3, 2, 2, 2],
    [11, 11, 10, 10, 9, 9, 8, 7, 7, 7, 6, 6, 5, 5, 4, 4, 4, 3, 3, 2, 2],
    [11, 11, 11, 10, 9, 9, 8, 8, 7, 7, 7, 6, 6, 5, 5, 4, 4, 3, 3, 2, 2],
    [12, 12, 11, 11, 10, 10, 9, 9, 8, 8, 7, 7, 6, 6, 5, 5, 4, 4, 3, 3, 3],
    [13, 13, 12, 12, 11, 11, 10, 10, 9, 9, 8, 8, 7, 7, 6, 6, 5, 5, 5, 4, 4]
]

RANGE_MIN_QP422_10BPC: List[List[int]] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [4, 4, 4, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [5, 5, 5, 4, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
    [6, 6, 6, 6, 5, 4, 4, 4, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
    [6, 6, 6, 6, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 2, 2, 2, 1, 1, 1, 0, 0, 0, 0, 0],
    [6, 6, 6, 6, 6, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 2, 1, 1, 0, 0, 0, 0, 0],
    [6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 3, 3, 3, 2, 2, 1, 1, 1, 0, 0, 0],
    [7, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 4, 4, 4, 4, 3, 3, 3, 2, 2, 1, 1, 1, 1, 1],
    [7, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 4, 4, 4, 4, 4, 3, 2, 2, 1, 1, 1, 1, 1],
    [8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 6, 6, 6, 6, 5, 5, 4, 4, 4, 3, 3, 2, 2, 1, 1, 1, 1],
    [9, 9, 9, 8, 8, 8, 8, 8, 8, 8, 8, 7, 7, 6, 6, 6, 5, 5, 5, 5, 5, 3, 3, 2, 2, 2, 1, 1, 1],
    [9, 9, 9, 9, 8, 8, 8, 8, 8, 8, 8, 8, 7, 7, 6, 6, 6, 6, 6, 5, 5, 4, 3, 3, 2, 2, 1, 1, 1],
    [9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 8, 8, 8, 8, 7, 7, 6, 6, 5, 5, 4, 3, 3, 3, 2, 2, 1, 1],
    [12, 12, 11, 11, 11, 11, 11, 11, 11, 11, 10, 10, 9, 9, 8, 8, 7, 7, 6, 6, 5, 5, 4, 4, 3, 3, 2, 2, 1],
    [16, 16, 15, 15, 14, 14, 13, 13, 12, 12, 11, 11, 10, 10, 9, 9, 8, 8, 8, 7, 7, 6, 6, 5, 5, 5, 4, 4, 3]
]

RANGE_MAX_QP422_10BPC: List[List[int]] = [
    [8, 8, 7, 5, 4, 4, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
    [8, 8, 8, 6, 6, 5, 4, 4, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
    [9, 9, 9, 8, 7, 6, 5, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 1, 1, 1, 0, 0, 0, 0, 0],
    [10, 10, 10, 10, 9, 8, 7, 6, 5, 5, 5, 5, 5, 4, 4, 3, 3, 3, 3, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1],
    [11, 11, 11, 11, 10, 9, 8, 6, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 3, 3, 3, 2, 2, 2, 1, 1, 1, 1, 1],
    [11, 11, 11, 11, 11, 10, 9, 8, 7, 6, 6, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 3, 2, 2, 1, 1, 1, 1, 1],
    [11, 11, 11, 11, 11, 10, 9, 8, 7, 7, 7, 7, 7, 6, 6, 6, 5, 5, 4, 4, 4, 3, 3, 2, 2, 2, 1, 1, 1],
    [12, 12, 12, 12, 12, 11, 10, 9, 8, 8, 8, 7, 7, 7, 7, 6, 5, 5, 5, 4, 4, 4, 3, 3, 2, 2, 2, 2, 2],
    [13, 13, 13, 12, 12, 11, 10, 10, 9, 9, 9, 8, 8, 7, 7, 7, 6, 5, 5, 5, 5, 4, 3, 3, 2, 2, 2, 2, 2],
    [14, 14, 13, 13, 13, 12, 11, 10, 9, 9, 9, 9, 8, 8, 8, 7, 6, 6, 5, 5, 5, 4, 4, 3, 3, 2, 2, 2, 2],
    [14, 14, 14, 13, 13, 12, 11, 11, 10, 10, 10, 9, 9, 8, 8, 8, 7, 7, 6, 6, 6, 4, 4, 3, 3, 3, 2, 2, 2],
    [15, 15, 14, 14, 13, 13, 12, 11, 11, 11, 10, 10, 9, 9, 8, 8, 8, 7, 7, 6, 6, 5, 4, 4, 3, 3, 2, 2, 2],
    [15, 15, 15, 14, 13, 13, 12, 12, 11, 11, 11, 10, 10, 9, 9, 8, 8, 7, 7, 6, 6, 5, 4, 4, 4, 3, 3, 2, 2],
    [16, 16, 15, 15, 14, 14, 13, 13, 12, 12, 11, 11, 10, 10, 9, 9, 8, 8, 7, 7, 6, 6, 5, 5, 4, 4, 3, 3, 2],
    [17, 17, 16, 16, 15, 15, 14, 14, 13, 13, 12, 12, 11, 11, 10, 10, 9, 9, 9, 8, 8, 7, 7, 6, 6, 6, 5, 5, 4]
]

RANGE_MIN_QP422_12BPC: List[List[int]] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [4, 4, 4, 4, 4, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [9, 9, 9, 8, 7, 6, 5, 5, 4, 4, 4, 4, 4, 4, 3, 3, 2, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [10, 10, 10, 10, 8, 8, 8, 7, 6, 6, 6, 6, 6, 5, 4, 3, 3, 3, 3, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
    [11, 11, 11, 11, 10, 9, 9, 8, 7, 7, 7, 7, 6, 6, 5, 4, 4, 4, 3, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1, 1, 0, 0, 0, 0, 0, 0,
     0],
    [11, 11, 11, 11, 11, 10, 10, 9, 9, 8, 8, 7, 6, 6, 5, 5, 5, 4, 4, 4, 4, 3, 2, 2, 2, 2, 2, 1, 1, 1, 1, 0, 0, 0, 0, 0,
     0],
    [11, 11, 11, 11, 11, 10, 10, 10, 9, 9, 9, 9, 8, 7, 7, 7, 6, 6, 5, 5, 5, 4, 4, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1, 0, 0, 0,
     0],
    [11, 11, 11, 11, 11, 11, 10, 10, 10, 10, 10, 9, 8, 8, 8, 7, 6, 6, 6, 5, 5, 5, 4, 4, 3, 3, 3, 3, 3, 2, 2, 2, 1, 1, 0,
     0, 0],
    [11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 10, 9, 8, 8, 8, 7, 6, 6, 6, 6, 5, 4, 4, 3, 3, 3, 3, 3, 3, 3, 2, 2, 1,
     0, 0, 0],
    [11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 9, 9, 9, 8, 7, 7, 6, 6, 6, 5, 5, 4, 4, 3, 3, 3, 3, 3, 3, 2, 2, 1,
     1, 0, 0],
    [13, 13, 13, 13, 13, 12, 12, 12, 12, 12, 12, 11, 11, 10, 10, 10, 9, 9, 8, 8, 8, 6, 6, 5, 5, 5, 4, 4, 4, 4, 3, 3, 2,
     2, 1, 1, 1],
    [13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 12, 12, 11, 11, 10, 10, 10, 9, 9, 8, 8, 7, 6, 6, 5, 5, 4, 4, 4, 4, 4, 3, 3,
     2, 2, 1, 1],
    [13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 12, 12, 11, 11, 10, 10, 9, 9, 8, 8, 7, 6, 6, 6, 5, 5, 4, 4, 4, 4, 3, 3,
     2, 2, 1, 1],
    [16, 16, 15, 15, 15, 15, 15, 15, 15, 15, 14, 14, 13, 13, 12, 12, 11, 11, 10, 10, 9, 9, 8, 8, 7, 7, 6, 6, 5, 5, 4, 4,
     4, 3, 3, 2, 2],
    [20, 20, 19, 19, 18, 18, 17, 17, 16, 16, 15, 15, 14, 14, 13, 13, 12, 12, 12, 11, 11, 10, 10, 9, 9, 9, 8, 8, 7, 7, 6,
     6, 6, 5, 5, 4, 4]
]

RANGE_MAX_QP422_12BPC: List[List[int]] = [
    [12, 12, 11, 9, 6, 6, 5, 5, 4, 4, 4, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
    [12, 12, 12, 10, 9, 8, 7, 7, 6, 6, 5, 5, 5, 4, 4, 4, 3, 3, 3, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
    [13, 13, 13, 12, 10, 9, 8, 7, 6, 6, 6, 6, 6, 6, 5, 5, 4, 3, 3, 3, 3, 2, 2, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,
     0],
    [14, 14, 14, 14, 12, 11, 10, 9, 8, 8, 8, 8, 8, 7, 6, 5, 5, 5, 5, 4, 4, 4, 3, 3, 2, 2, 2, 2, 2, 1, 1, 0, 0, 0, 0, 0,
     0],
    [15, 15, 15, 15, 14, 13, 12, 10, 9, 9, 9, 9, 8, 8, 7, 6, 6, 6, 5, 5, 5, 4, 4, 4, 3, 3, 3, 2, 2, 2, 1, 1, 1, 1, 0, 0,
     0],
    [15, 15, 15, 15, 15, 14, 13, 12, 11, 10, 10, 9, 8, 8, 7, 7, 7, 6, 6, 6, 6, 5, 4, 4, 3, 3, 3, 2, 2, 2, 2, 1, 1, 1, 1,
     1, 1],
    [15, 15, 15, 15, 15, 14, 13, 12, 11, 11, 11, 11, 10, 9, 9, 9, 8, 8, 7, 7, 7, 6, 6, 5, 5, 5, 4, 4, 4, 3, 3, 2, 2, 1,
     1, 1, 1],
    [16, 16, 16, 16, 16, 15, 14, 13, 12, 12, 12, 11, 10, 10, 10, 9, 8, 8, 8, 7, 7, 7, 6, 6, 5, 5, 5, 5, 5, 3, 3, 3, 2,
     2, 1, 1, 1],
    [17, 17, 17, 16, 16, 15, 14, 14, 13, 13, 13, 12, 11, 10, 10, 10, 9, 8, 8, 8, 8, 7, 6, 6, 5, 5, 5, 5, 5, 4, 4, 3, 3,
     2, 1, 1, 1],
    [18, 18, 17, 17, 17, 16, 15, 14, 13, 13, 13, 13, 11, 11, 11, 10, 9, 9, 8, 8, 8, 7, 7, 6, 6, 5, 5, 5, 5, 4, 4, 3, 3,
     2, 2, 1, 1],
    [18, 18, 18, 17, 17, 16, 15, 15, 14, 14, 14, 13, 13, 12, 12, 12, 11, 11, 10, 10, 10, 8, 8, 7, 7, 7, 6, 6, 6, 5, 4,
     4, 3, 3, 2, 2, 2],
    [19, 19, 18, 18, 17, 17, 16, 15, 15, 15, 14, 14, 13, 13, 12, 12, 12, 11, 11, 10, 10, 9, 8, 8, 7, 7, 6, 6, 6, 5, 5,
     4, 4, 3, 3, 2, 2],
    [19, 19, 19, 18, 17, 17, 16, 16, 15, 15, 15, 14, 14, 13, 13, 12, 12, 11, 11, 10, 10, 9, 8, 8, 8, 7, 7, 6, 6, 5, 5,
     4, 4, 3, 3, 2, 2],
    [20, 20, 19, 19, 18, 18, 17, 17, 16, 16, 15, 15, 14, 14, 13, 13, 12, 12, 11, 11, 10, 10, 9, 9, 8, 8, 7, 7, 6, 6, 5,
     5, 5, 4, 4, 3, 3],
    [21, 21, 20, 20, 19, 19, 18, 18, 17, 17, 16, 16, 15, 15, 14, 14, 13, 13, 13, 12, 12, 11, 11, 10, 10, 10, 9, 9, 8, 8,
     7, 7, 7, 6, 6, 5, 5]
]

RANGE_MIN_QP420_8BPC: List[List[int]] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [3, 3, 3, 3, 3, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
    [3, 3, 3, 3, 3, 2, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
    [3, 3, 3, 3, 3, 3, 2, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0],
    [3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 0],
    [3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 0],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 1, 1],
    [5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 3, 3, 3, 3, 2, 1, 1],
    [5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 3, 2, 2, 1],
    [5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 3, 3, 2, 1],
    [9, 8, 8, 7, 7, 7, 7, 7, 7, 6, 5, 5, 4, 3, 3, 3, 2],
    [13, 12, 12, 11, 10, 10, 9, 8, 8, 7, 6, 6, 5, 5, 4, 4, 3]
]

RANGE_MAX_QP420_8BPC: List[List[int]] = [
    [4, 4, 3, 3, 2, 2, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [4, 4, 4, 4, 4, 3, 2, 2, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    [5, 5, 5, 5, 5, 4, 3, 2, 1, 1, 1, 1, 1, 1, 0, 0, 0],
    [6, 6, 6, 6, 6, 5, 4, 3, 2, 2, 2, 1, 1, 1, 1, 0, 0],
    [7, 7, 7, 7, 7, 5, 4, 3, 2, 2, 2, 2, 2, 1, 1, 1, 0],
    [7, 7, 7, 7, 7, 6, 5, 4, 3, 3, 3, 2, 2, 2, 1, 1, 0],
    [7, 7, 7, 7, 7, 6, 5, 4, 3, 3, 3, 3, 2, 2, 2, 1, 1],
    [8, 8, 8, 8, 8, 7, 6, 5, 4, 4, 4, 3, 3, 2, 2, 2, 1],
    [9, 9, 9, 8, 8, 7, 6, 6, 5, 5, 4, 4, 3, 3, 2, 2, 1],
    [10, 10, 9, 9, 9, 8, 7, 6, 5, 5, 5, 4, 4, 3, 3, 2, 2],
    [10, 10, 10, 9, 9, 8, 8, 7, 6, 6, 5, 5, 4, 4, 3, 2, 2],
    [11, 11, 10, 10, 9, 9, 8, 7, 7, 6, 6, 5, 5, 4, 3, 3, 2],
    [11, 11, 11, 10, 9, 9, 9, 8, 7, 7, 6, 5, 5, 4, 4, 3, 2],
    [13, 12, 12, 11, 10, 10, 9, 8, 8, 7, 6, 6, 5, 4, 4, 4, 3],
    [14, 13, 13, 12, 11, 11, 10, 9, 9, 8, 7, 7, 6, 6, 5, 5, 4]
]

RANGE_MIN_QP420_10BPC: List[List[int]] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [4, 4, 4, 3, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [4, 4, 4, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0],
    [5, 5, 5, 4, 4, 4, 4, 4, 4, 3, 3, 2, 2, 2, 2, 1, 0, 0, 0, 0, 0, 0, 0],
    [7, 7, 7, 6, 6, 5, 5, 4, 4, 3, 3, 3, 3, 2, 2, 2, 1, 1, 1, 0, 0, 0, 0],
    [7, 7, 7, 7, 7, 6, 5, 5, 5, 5, 5, 4, 3, 3, 2, 2, 1, 1, 1, 1, 1, 0, 0],
    [7, 7, 7, 7, 7, 6, 6, 5, 5, 5, 5, 4, 4, 4, 3, 2, 2, 2, 2, 1, 1, 1, 0],
    [7, 7, 7, 7, 7, 7, 6, 6, 6, 6, 6, 5, 4, 4, 4, 3, 2, 2, 2, 1, 1, 1, 0],
    [7, 7, 7, 7, 7, 7, 7, 7, 6, 6, 6, 6, 5, 5, 4, 4, 3, 3, 2, 2, 2, 1, 1],
    [7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 6, 6, 5, 5, 4, 4, 3, 3, 2, 2, 1, 1],
    [9, 9, 9, 9, 9, 8, 8, 8, 8, 8, 7, 7, 6, 6, 5, 5, 4, 4, 3, 3, 2, 2, 1],
    [9, 9, 9, 9, 9, 9, 8, 8, 8, 8, 8, 8, 8, 7, 6, 6, 5, 4, 4, 3, 3, 2, 1],
    [9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 8, 8, 7, 7, 6, 5, 4, 4, 3, 3, 2, 1],
    [13, 12, 12, 11, 11, 11, 11, 11, 11, 10, 9, 9, 8, 7, 7, 6, 5, 5, 4, 3, 3, 2, 2],
    [17, 16, 16, 15, 14, 14, 13, 12, 12, 11, 10, 10, 10, 9, 8, 8, 7, 6, 6, 5, 5, 4, 4]
]

RANGE_MAX_QP420_10BPC: List[List[int]] = [
    [8, 8, 7, 6, 4, 4, 3, 3, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [8, 8, 8, 7, 6, 5, 4, 4, 3, 3, 3, 3, 2, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
    [9, 9, 9, 8, 8, 7, 6, 5, 4, 3, 3, 3, 3, 3, 2, 1, 1, 1, 0, 0, 0, 0, 0],
    [10, 10, 10, 9, 9, 8, 7, 6, 5, 4, 4, 3, 3, 3, 3, 2, 1, 1, 1, 1, 1, 0, 0],
    [11, 11, 11, 10, 10, 8, 7, 6, 5, 4, 4, 4, 4, 3, 3, 3, 2, 2, 2, 1, 1, 1, 0],
    [11, 11, 11, 10, 10, 9, 8, 7, 6, 6, 6, 5, 4, 4, 3, 3, 2, 2, 2, 2, 2, 1, 1],
    [11, 11, 11, 11, 11, 10, 9, 8, 7, 7, 7, 6, 5, 5, 4, 3, 3, 3, 3, 2, 2, 2, 1],
    [12, 12, 12, 12, 12, 11, 10, 9, 8, 8, 8, 7, 6, 5, 5, 4, 3, 3, 3, 2, 2, 2, 1],
    [13, 13, 13, 12, 12, 11, 10, 10, 9, 9, 8, 8, 7, 7, 6, 5, 4, 4, 3, 3, 3, 2, 2],
    [14, 14, 13, 13, 13, 12, 11, 10, 9, 9, 9, 8, 8, 7, 7, 6, 5, 4, 4, 3, 3, 2, 2],
    [14, 14, 14, 13, 13, 12, 12, 11, 10, 10, 9, 9, 8, 8, 7, 6, 5, 5, 4, 4, 3, 3, 2],
    [15, 15, 14, 14, 13, 13, 12, 11, 11, 10, 10, 9, 9, 8, 7, 7, 6, 5, 5, 4, 4, 3, 2],
    [15, 15, 15, 14, 13, 13, 13, 12, 11, 11, 10, 9, 9, 8, 8, 7, 6, 5, 5, 4, 4, 3, 2],
    [17, 16, 16, 15, 14, 14, 13, 12, 12, 11, 10, 10, 9, 8, 8, 7, 6, 6, 5, 4, 4, 3, 3],
    [18, 17, 17, 16, 15, 15, 14, 13, 13, 12, 11, 11, 11, 10, 9, 9, 8, 7, 7, 6, 6, 5, 5]
]

RANGE_MIN_QP420_12BPC: List[List[int]] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [4, 4, 4, 4, 4, 4, 3, 3, 2, 2, 2, 2, 2, 2, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [9, 8, 8, 7, 7, 6, 5, 5, 4, 4, 4, 4, 3, 3, 3, 2, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [10, 9, 9, 8, 8, 8, 7, 7, 6, 6, 6, 5, 5, 4, 4, 3, 2, 2, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
    [11, 10, 10, 10, 10, 9, 9, 8, 7, 6, 6, 6, 6, 5, 5, 4, 3, 3, 3, 2, 2, 1, 0, 0, 0, 0, 0, 0, 0],
    [11, 11, 11, 11, 11, 10, 10, 9, 9, 9, 9, 8, 7, 6, 5, 5, 4, 4, 3, 3, 3, 2, 1, 1, 0, 0, 0, 0, 0],
    [11, 11, 11, 11, 11, 11, 10, 10, 9, 9, 9, 8, 8, 7, 6, 5, 5, 5, 5, 4, 3, 3, 2, 1, 1, 1, 1, 1, 0],
    [11, 11, 11, 11, 11, 11, 11, 10, 10, 10, 10, 9, 8, 8, 8, 7, 6, 6, 5, 4, 4, 3, 2, 2, 1, 1, 1, 1, 1],
    [11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 10, 10, 9, 9, 8, 8, 7, 7, 6, 5, 5, 4, 4, 2, 2, 1, 1, 1, 1],
    [11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 10, 10, 9, 9, 8, 8, 7, 7, 6, 5, 4, 4, 3, 2, 2, 1, 1, 1],
    [13, 13, 13, 13, 13, 13, 13, 12, 12, 12, 11, 11, 10, 10, 9, 9, 8, 8, 7, 7, 6, 5, 4, 3, 3, 2, 2, 1, 1],
    [13, 13, 13, 13, 13, 13, 13, 13, 13, 12, 12, 12, 12, 11, 10, 10, 9, 8, 8, 7, 7, 6, 5, 4, 3, 3, 2, 2, 1],
    [13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 12, 12, 11, 11, 10, 9, 8, 8, 7, 7, 6, 5, 4, 4, 3, 2, 2, 1],
    [15, 15, 15, 15, 15, 15, 15, 15, 15, 14, 13, 13, 12, 11, 11, 10, 9, 9, 8, 8, 7, 6, 6, 5, 4, 4, 3, 3, 2],
    [21, 20, 20, 19, 18, 18, 17, 16, 16, 15, 14, 14, 14, 13, 12, 12, 11, 10, 10, 10, 9, 8, 8, 7, 6, 6, 5, 5, 4]
]

RANGE_MAX_QP420_12BPC: List[List[int]] = [
    [11, 10, 9, 8, 6, 6, 5, 5, 4, 3, 3, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
    [12, 11, 11, 10, 9, 8, 7, 7, 6, 6, 5, 5, 4, 3, 3, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    [13, 12, 12, 11, 11, 10, 9, 8, 7, 6, 6, 6, 5, 5, 4, 3, 3, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    [14, 13, 13, 12, 12, 11, 10, 9, 8, 7, 7, 6, 6, 5, 5, 4, 3, 3, 2, 2, 2, 1, 1, 1, 0, 0, 0, 0, 0],
    [15, 14, 14, 13, 13, 11, 10, 9, 8, 7, 7, 7, 7, 6, 6, 5, 4, 4, 4, 3, 3, 2, 1, 1, 1, 0, 0, 0, 0],
    [15, 15, 15, 14, 14, 13, 12, 11, 10, 10, 10, 9, 8, 7, 6, 6, 5, 5, 4, 4, 4, 3, 2, 2, 1, 1, 0, 0, 0],
    [15, 15, 15, 15, 15, 14, 13, 12, 11, 11, 11, 10, 9, 8, 7, 6, 6, 6, 6, 5, 4, 4, 3, 2, 2, 2, 1, 1, 0],
    [16, 16, 16, 16, 16, 15, 14, 13, 12, 12, 12, 11, 10, 9, 9, 8, 7, 7, 6, 5, 5, 4, 3, 3, 2, 2, 2, 1, 1],
    [17, 17, 17, 16, 16, 15, 14, 14, 13, 13, 12, 12, 11, 11, 10, 9, 8, 8, 7, 6, 6, 5, 5, 3, 3, 2, 2, 1, 1],
    [18, 18, 17, 17, 17, 16, 15, 14, 13, 13, 13, 12, 12, 11, 11, 10, 9, 8, 8, 7, 6, 5, 5, 4, 3, 3, 2, 2, 1],
    [18, 18, 18, 17, 17, 16, 16, 15, 14, 14, 13, 13, 12, 12, 11, 10, 9, 9, 8, 8, 7, 6, 5, 4, 4, 3, 3, 2, 2],
    [19, 19, 18, 18, 17, 17, 16, 15, 15, 14, 14, 13, 13, 12, 11, 11, 10, 9, 9, 8, 8, 7, 6, 5, 4, 4, 3, 3, 2],
    [19, 19, 19, 18, 17, 17, 17, 16, 15, 15, 14, 13, 13, 12, 12, 11, 10, 9, 9, 8, 8, 7, 6, 5, 5, 4, 3, 3, 2],
    [21, 20, 20, 19, 18, 18, 17, 16, 16, 15, 14, 14, 13, 12, 12, 11, 10, 10, 9, 9, 8, 7, 7, 6, 5, 5, 4, 4, 3],
    [22, 21, 21, 20, 19, 19, 18, 17, 17, 16, 15, 15, 15, 14, 13, 13, 12, 11, 11, 11, 10, 9, 9, 8, 7, 7, 6, 6, 5]
]

RC_RANGE_PARAMS: Dict[int, Dict[str, List[List[int]]]] = {
    8: {
        'MIN': RANGE_MIN_QP444_8BPC,
        'MAX': RANGE_MAX_QP444_8BPC
    },
    10: {
        'MIN': RANGE_MIN_QP444_10BPC,
        'MAX': RANGE_MAX_QP444_10BPC
    },
    12: {
        'MIN': RANGE_MIN_QP444_12BPC,
        'MAX': RANGE_MAX_QP444_12BPC
    }
}

RC_RANGE_PARAMS_422: Dict[int, Dict[str, List[List[int]]]] = {
    8: {
        'MIN': RANGE_MIN_QP422_8BPC,
        'MAX': RANGE_MAX_QP422_8BPC
    },
    10: {
        'MIN': RANGE_MIN_QP422_10BPC,
        'MAX': RANGE_MAX_QP422_10BPC
    },
    12: {
        'MIN': RANGE_MIN_QP422_12BPC,
        'MAX': RANGE_MAX_QP422_12BPC
    }
}

RC_RANGE_PARAMS_420: Dict[int, Dict[str, List[List[int]]]] = {
    8: {
        'MIN': RANGE_MIN_QP420_8BPC,
        'MAX': RANGE_MAX_QP420_8BPC
    },
    10: {
        'MIN': RANGE_MIN_QP420_10BPC,
        'MAX': RANGE_MAX_QP420_10BPC
    },
    12: {
        'MIN': RANGE_MIN_QP420_12BPC,
        'MAX': RANGE_MAX_QP420_12BPC
    }
}

##
# Line Buffer depth mapping
LINE_BUF_DEPTH: Dict[int, int] = {
    0: 9,
    1: 10,
    2: 11,
    3: 12,
    4: 13,
    5: 14,
    6: 15,
    7: 16,
    8: 8
}

VBT_MAX_BPP_MAPPING: Dict[int, int] = {
    0b000: 6,
    0b001: 8,
    0b010: 10,
    0b011: 12,
}

VBT_SLICES_PER_LINE_MAPPING: Dict[int, int] = {
    1: 1,
    2: 2,
    4: 4,
    8: 6,
    16: 8,
    32: 10,
    64: 12,
    128: 16,
    256: 20,
    512: 24
}

##
# trans_ddi_func_ctl BPC mapping
BPC_MAPPING: Dict[int, int] = {
    0b010: 6,
    0b000: 8,
    0b001: 10,
    0b011: 12
}

##
# Mapping for DSC Throughput Mode as defined in DP Spec.
# Check 0x0006Bh DPCD Register for More Info.
DSC_THROUGHPUT_MAPPING: Dict[int, int] = {
    0: 0,
    1: 340,
    2: 400,
    3: 450,
    4: 500,
    5: 550,
    6: 600,
    7: 650,
    8: 700,
    9: 750,
    10: 800,
    11: 850,
    12: 900,
    13: 950,
    14: 1000,
    15: 170  # Test or Custom use Only
}


##
# @brief    Holds Different Type of Display Technology Supported by DSC Feature.
class DisplayType(Enum):
    UNKNOWN_DISPLAY = -1
    DISPLAY_PORT = 0
    EMBEDDED_DISPLAY_PORT = 1
    MIPI_DISPLAY = 2
    HDMI_DISPLAY = 3


##
# @brief    Types of DSC Engines.
class DSCEngine(Enum):
    LEFT = 0
    RIGHT = 1
    MIDDLE = 2


##
# @brief        DPCD Offsets Related to DP and EDP.
class DPCDOffsets:
    DPCD_REV = 0x0
    MAX_LINK_RATE = 0x1
    MAX_LANE_COUNT = 0x2
    DSC_SUPPORT = 0x60
    DSC_VERSION = 0x61
    DSC_RC_BUFFER_BLOCK_SIZE = 0x62
    DSC_RC_BUFFER_SIZE = 0x63
    DSC_SLICE_CAPABILITIES_1 = 0x64
    DSC_LINE_BUFFER_DEPTH = 0x65
    DSC_BLOCK_PREDICTION_SUPPORT = 0x66
    DSC_MAX_BPP_SUPPORTED_SINK_1 = 0x67
    DSC_MAX_BPP_SUPPORTED_SINK_2 = 0x68
    DSC_COLOUR_SUPPORTED = 0x69
    DSC_BPC_SUPPORT = 0x6A
    DSC_PEAK_DSC_THROUGHPUT = 0x6B
    DSC_MAX_SLICE_WIDTH = 0x6C
    DSC_SLICE_CAPABILITIES_2 = 0x6D
    DSC_BPP_INCREMENT = 0x6F
    LINK_BW_SET = 0x100
    LANE_COUNT_SET = 0x101
    LINK_RATE_SET = 0x115
    DSC_ENABLE = 0x160
    DPCD_VER = 0x700
    MSTM_CAP = 0x21
    FEC_CAPABILITY_OFFSET = 0x90
    FEC_CONFIGURATION = 0x120
    EDP_DPCD_REV = 0x700
    SINK_PREFERENCE_DPCD = 0x30C
    IEEE_OUI = 0x500
    DEVICE_IDENTIFICATION_STRING = 0x503
    HARDWARE_REVISION = 0x509
    MAIN_LINK_CHANNEL_ENCODING_CAP = 0X00006
    EXT_MAIN_LINK_CHANNEL_ENCODING_CAP = 0x2206



##
# @brief        These enum values should be used only when passing any test specific data that is needed for vdsc
#               programming verification.
class TestDataKey(IntEnum):
    COLOR_FORMAT = 0
    AUDIO_PACKET_TYPE = 1
    AUDIO_ALLOCATION_STANDARD = 2
    IS_AUDIO_SUPPORTED = 3
    AUDIO_LAYOUT = 4
    AUDIO_RATE_HZ = 5


##
# @brief        Contains the Constants Specific to HDM2.1 DSC
class HDMIDSC:
    PIXEL_CLOCK_RATE_TOLERANCE = 0.005
    AUDIO_CLOCK_RATE_TOLERANCE = 1000
    FRL_BIT_RATE_TOLERANCE = 300
    MAX_ACR_PACKETS_RATE = 1500
    MAX_BORROWED_400_TRI_BYTES = 400
    MAX_BORROWED_453_TRI_BYTES = 453
    MIN_AUDIO_CHANNELS = 32


##
# @brief        Contains Different Type of Audio Packets Supported in HDMI2.1 + DSC. This is Needed in Determining the
#               Max DSC BPP
class AudioPacketType:
    AUDIO_SAMPLE_PACKET = 0X02
    ONE_BIT_AUDIO_SAMPLE_PACKET = 0X07
    DST_AUDIO_PACKET = 0X08
    HBR_AUDIO_PACKET = 0X09
    MULTI_STREAM_AUDIO_SAMPLE_PACKET = 0X0E
    ONE_BIT_MULTI_STREAM_AUDIO_SAMPLE_PACKET = 0X0F
    THREE_DIMENSION_AUDIO_SAMPLE_PACKET = 0X0B
    ONE_BIT_THREE_DIMENSION_AUDIO_SAMPLE_PACKET = 0X0C
    AVERAGAE_AUDIO_DATA_RATE_FOR_32CHANNEL_48SAMPLINGRATE = 195195


##
# @brief        Contains Different Type of Audio Allocation Standards Supported in HDMI2.1 + DSC. This is Needed in
#               Determining the Max DSC BPP
class AudioStandard:
    ALLOCATION_STANDARD_ONE = 0X01
    ALLOCATION_STANDARD_TWO = 0X02
    ALLOCATION_STANDARD_THREE = 0X03


##
# @brief        Contains Different Type of Audio Layout Possible in HDMI2.1 + DSC. This is Valid Only When Audio Packet
#               Type is ONE_BIT_AUDIO_SAMPLE_PACKET. Also Needed in Determining the Max DSC BPP.
class AudioLayout:
    LAYOUT_ZERO = 0.25
    LAYOUT_ONE = 1


# Hardware Restrictions
FRACTIONAL_BPP_UNSUPPORTED_PLATFORMS = ['GLK', 'ICLLP', 'LKF1', 'LKFR', 'JSL', 'EHL', 'RYF', 'RKL', 'ADLS', 'TGL',
                                        'DG1', 'DG2', 'ADLP']

DSC_1P2_UNSUPPORTED_PLATFORMS = ['GLK', 'ICLLP', 'LKF1', 'LKFR', 'JSL', 'EHL', 'RYF', 'RKL', 'ADLS', 'TGL', 'DG1',
                                 'DG2', 'ADLP']


DPT_BW_CHECK_REQUIRED_PLATFORMS = ['ICLLP', 'LKF1', 'LKFR', 'JSL', 'EHL', 'RYF', 'RKL', 'ADLS', 'TGL', 'DG1', 'DG2',
                                   'ADLP', 'MTL']

# EDP + FEC is not supported until D15 platforms
EDP_FEC_UNSUPPORTED_PLATFORMS = ['GLK', 'ICLLP', 'LKF1', 'LKFR', 'JSL', 'EHL', 'RYF', 'RKL', 'ADLS', 'TGL', 'DG1',
                                 'ADLP', 'DG2', 'ELG', 'MTL', 'ARL', 'LNL', 'PTL', 'NVL', 'CLS']

HDMI2P1_AUDIO_WA_REQUIRED_PLATFORMS = ['MTL']

COMMON_SDP_TL_SUPPORTED_PLATFORMS = ['NVL', 'CLS']

DP_LINK_RATE_DDI_CLK_MAPPING = {
    1.62: 162,
    2.7: 270,
    5.4: 540,
    8.1: 810,
    10: 312.5,
    13.5: 421.875,
    20: 625
}

# Contains the platform names which doesn't support PSR2 + DSC Co-existence.
PSR2_DSC_UNSUPPORTED_PLATFORMS = ['GLK', 'ICLLP', 'LKF1', 'LKFR', 'JSL', 'EHL', 'RYF', 'RKL', 'ADLS', 'TGL', 'DG1',
                                  'DG2']

# Below dictionaries represent Dict(Tuple(VIC_ID, LINKRATE_GBPS, LANECOUNT): Normative BPP Value). Below configs have to use
# BPP as defined in HDMI2.1(table 7-37/7-38) instead of DSC Spec pseudocode for calculating BPP
NORMATIVE_TABLE_444_BPP: Dict[Tuple, int] = {(64,3,3): 192, (77,3,3): 192, (63,3,3): 192, (78,3,3): 192, (93,3,3): 192, (103,3,3): 192, (94,3,3): 192,
                       (104,3,3): 192, (95,3,3): 192, (105,3,3): 192, (114,3,3): 192, (116,3,3): 192, (96,3,3): 192, (106,3,3): 192,
                       (97,3,3): 192, (107,3,3): 192, (98,3,3): 192, (99,3,3): 192, (100,3,3): 192, (115,3,3): 192, (101,3,3): 192,
                       (102,3,3): 192, (121,3,3): 192, (122,3,3): 192, (123,3,3): 192, (124,3,3): 192, (125,3,3): 192, (117,6,3): 192,
                                      (119,6,3): 192, (118,6,3): 192, (120,6,3): 192, (218,6,3): 192, (219,6,3): 192, (127,6,3): 192,
                       (194,6,3): 192, (202,6,3): 192, (195,6,3): 192, (203,6,3): 192, (196,6,3): 192, (204,6,3): 192, (126,3,3): 173,
                       (193,6,3): 175, (197,6,4): 157, (205,6,4): 157, (198,6,4): 157, (206,6,4): 157, (199,6,4): 159, (207,6,4): 159,
                       (200,10,4): 134, (208,10,4): 134, (201,10,4): 130, (209,10,4): 130, (210,6,3): 182, (211,6,3): 181, (212,6,3): 177,
                       (213,8,4): 163, (214,8,4): 162, (215,8,4): 157}
NORMATIVE_TABLE_YUV422_BPP: Dict[Tuple, int] = {(114,3,3): 192, (116,3,3): 192, (96,3,3): 192, (106,3,3): 192, (97,3,3): 192, (107,3,3): 192, (115,3,3): 192,
                          (101,3,3): 192, (102,3,3): 192, (121,3,3): 192, (122,3,3): 192, (123,3,3): 192, (124,3,3): 192, (125,3,3): 192,
                          (218,6,3): 192, (219,6,3): 192, (127,6,3): 192, (126,3,3): 173, (193,6,3): 175, (194,3,3): 123, (202,3,3): 123, (195,3,3): 123,
                        (203,3,3): 123, (197,6,3): 123, (205,6,3): 123, (198,6,3): 123, (206,6,3): 123, (199,6,3): 119, (207,6,3): 119,
                        (200,10, 4): 134, (208, 10,4): 134, (201,10,4): 130, (209,10,4): 130, (210,6,3): 182, (211,6,3): 181, (212,6,3): 177,
                        (213,6,4): 123, (214,6,4): 125, (215,6,4): 117, (216,12,4): 125, (217,12,4): 117}
NORMATIVE_TABLE_YUV420_BPP: Dict[Tuple, int] = {(114,3,3): 192, (116,3,3): 192,(96,3,3): 192, (106,3,3): 192, (97,3,3): 192, (107,3,3): 192,(115,3,3): 192,
                          (101,3,3): 192, (102,3,3): 192, (124,3,3): 192, (125,3,3): 192, (127,6,3): 192, (117,3,3): 137,
                          (119,3,3): 137, (118,3,3): 113, (120,3,3): 113, (218,3,3): 129, (219,3,3): 106, (126,3,3): 173, (193,6,3):175,
                          (194,3,3): 123, (202,3,3): 123, (195,3,3): 123, (203,3,3): 123, (196,3,3): 118, (204,3,3): 118,
                          (197,6,3): 123, (205,6,3): 123, (198,6,3): 123, (206,6,3): 123, (199,6,3): 119, (207,6,3): 119}

# Below Sets represent set(VIC_ID, LINKRATE_GBPS, LANE_COUNT). These configs have max TBDelta values higher than 400 tribytes,
# but none greater than 453.
MAX_TB_DELTA_453_BYTES_444_SET: Set = {(199,6,4), (207, 6, 4), (200,10,4), (208,10,4), (210,6,3), (213,8,4)}
MAX_TB_DELTA_453_BYTES_YUV422_SET: Set = {(117,6,3), (119,6,3), (194,3,3), (202,3,3), (195,3,3), (203,3,3), (197,6,3),
                                     (205,6,3), (198,6,3), (206,6,3), (200,10,4), (208,10,4), (210,6,3), (213,8,4)}
MAX_TB_DELTA_453_BYTES_YUV420_SET: Set = {(117,3,3), (119,3,3), (194,3,3), (202,3,3), (195,3,3), (203,3,3), (197,6,3), (205,6,3),
                                     (198,6,3), (206,6,3), (200,8,4), (208,8,4), (201,8,4), (209,8,4), (210,3,3),
                                    (211,3,3), (212,6,3), (213,6,3), (216,10,4)}
EMP_HEADER_BYTE0 = 0x7F
DATA_SET_TYPE_PERIODIC_PSEUDO_STATIC_EM_DATA_SET = 0x0
CVTEM_DATA_SET_LENGTH = 136
NUM_EMP_CONTROL_BYTES = 7
DATA_SET_FRAGMENT_LENGTH = 24
